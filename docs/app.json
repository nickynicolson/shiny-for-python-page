[{"name": "app.py", "content": "import matplotlib.pyplot as plt\nimport numpy as np\nfrom shiny.express import ui, input, render\nimport pyodide.http\n\nwith ui.sidebar():\n    ui.input_slider(\"n\", \"N\", 0, 100, 20)\n\n@render.plot(alt=\"A histogram\")\nasync def histogram():\n    url = 'https://api.gbif.org/v1/dataset/cd6e21c8-9e8a-493a-8a76-fbf7862069e5'\n    response = await pyodide.http.pyfetch(url)\n    if response.status != 200:\n        raise Exception(f\"Error fetching {url()}: {response.status}\")\n    data = await response.json()        \n    title = data['title']    \n    x = 100 + np.random.randn(500)\n    plt.title(title, size=20)\n    plt.hist(x=x, bins=input.slider(), color=\"grey\", ec=\"black\")\n", "type": "text"}]